# Sample Step-by-Step Guide: Building a To-Do List Web App with Spec-Kit

This guide demonstrates how to use Spec-Kit to build a to-do list web application that integrates with Azure CosmosDB and Entra ID authentication using the Spec-Driven Development methodology.

## üìã Project Overview

**What we're building:**
- A modern web-based to-do list application
- User authentication via Microsoft Entra ID (Azure AD)
- Data persistence using Azure CosmosDB
- Responsive design for desktop and mobile
- Real-time updates and collaborative features

**Tech Stack:**
- Frontend: React.js with TypeScript
- Backend: Node.js with Express
- Database: Azure CosmosDB (SQL API)
- Authentication: Microsoft Entra ID (MSAL)
- Hosting: Azure App Service

---

## üöÄ Prerequisites

Before starting, ensure you have:

1. **DevContainer Setup Complete** - Follow the main README.md setup
2. **Azure Account** - For CosmosDB and Entra ID setup
3. **GitHub Copilot** - Enabled in VS Code
4. **Basic knowledge** - JavaScript/TypeScript, REST APIs, Azure basics

---

## üìù Step-by-Step Implementation

### Step 1: Initialize the Spec-Kit Project

```bash
# 1. Navigate to your code directory
cd /workspaces/SpecKitDevContainerBase
mkdir code && cd code

# 2. Initialize a new Spec-Kit project
specify init todo-app --ai copilot

# 3. Navigate into the project
cd todo-app

# 4. Open the project in VS Code
code .
```

**Expected Output:**
- New project folder created with Spec-Kit structure
- `.github/prompts/` directory with all slash command templates
- `.specify/` directory for Spec-Kit configuration

---

### Step 2: Create Project Constitution

Open **GitHub Copilot Chat** in VS Code and run:

```
/constitution Create principles for a production-ready to-do application focusing on:
- Security best practices for handling user data and authentication
- Performance requirements for responsive UI (< 2s load time)
- Code quality standards with TypeScript, ESLint, and comprehensive testing
- Accessibility compliance (WCAG 2.1 AA)
- Azure cloud-native architecture patterns
- Data privacy and GDPR compliance for user information
```
Spec-Kit will draft the updated constitution and sync templates to lock in the new development principles; here‚Äôs what it may cover next:

#### Plan Examples
1. Replace the placeholder constitution with the tracking principles aligned to the requested focus areas.
2. Inject a sync impact report and governance metadata per the Spec-Kit prompt.
3. Propagate necessary updates to dependent templates (plan template) so the guidance stays consistent.


**Files Created:**

```
.specify/
‚îú‚îÄ‚îÄ memory/
‚îÇ   ‚îî‚îÄ‚îÄ constitution.md
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ bash/
‚îÇ       ‚îú‚îÄ‚îÄ check-prerequisites.sh
‚îÇ       ‚îú‚îÄ‚îÄ common.sh
‚îÇ       ‚îú‚îÄ‚îÄ create-new-feature.sh
‚îÇ       ‚îú‚îÄ‚îÄ setup-plan.sh
‚îÇ       ‚îî‚îÄ‚îÄ update-agent-context.sh
‚îî‚îÄ‚îÄ templates/
    ‚îú‚îÄ‚îÄ agent-file-template.md
    ‚îú‚îÄ‚îÄ plan-template.md
    ‚îú‚îÄ‚îÄ spec-template.md
    ‚îî‚îÄ‚îÄ tasks-template.md
```

- `.specify/memory/CONSTITUTION.md` ‚Äî the project‚Äôs governing principles. Spec‚ÄëKit references it whenever you run /specify, /plan, /tasks, etc., to ensure plans obey your CRUD, security, performance, Azure, and GDPR mandates
- `.specify/scripts/bash/` folder ‚Äî reusable CLI helpers that Spec‚ÄëKit prompts invoke for automation:
    - `check-prerequisites.sh` ‚Äì verifies required files/branches before clarification or planning runs.
    - `common.sh` ‚Äì shared shell utilities (logging, JSON parsing) used by the other scripts.
    - `create-new-feature.sh` ‚Äì creates a feature branch, initializes a spec file, and returns JSON paths when you issue /specify.
    - `setup-plan.sh` ‚Äì prepares the implementation-planning workspace, copying templates and wiring paths before /plan.
    - `update-agent-context.sh` ‚Äì refreshes agent context files so Copilot (or other AI) stays in sync with the latest artifacts.

- `.specify/templates/` folder ‚Äì markdown templates that drive Spec‚ÄëKit command outputs:
    - `agent-file-template.md` ‚Äì boilerplate for per-agent context files.
    - `plan-template.md` ‚Äì the planning workflow executed during /plan, producing the implementation plan, research notes, data model, contracts, and quickstart.
    - `spec-template.md` ‚Äì structure for feature specs generated by /specify (user stories, requirements, review checklist).
    - `tasks-template.md` ‚Äì blueprint for /tasks, turning the plan into actionable work items.

---

### Step 3: Define Application Specifications

In **GitHub Copilot Chat**, run:

```
/specify Build a to-do list web application with the following features:

USER AUTHENTICATION:
- Microsoft Entra ID integration for user login/logout
- Role-based access (personal vs shared lists)
- Secure session management

CORE FUNCTIONALITY:
- Create, read, update, delete tasks
- Task categories and priority levels
- Due dates and reminders
- Task completion tracking
- Search and filtering capabilities

DATA MANAGEMENT:
- Store all data in Azure CosmosDB
- Real-time sync across devices
- Offline capability with sync on reconnect
- Data backup and recovery

USER INTERFACE:
- Responsive design (mobile-first)
- Dark/light theme toggle
- Drag-and-drop task reordering
- Keyboard shortcuts for power users
- Progressive Web App (PWA) capabilities

COLLABORATION:
- Share lists with other users
- Real-time collaborative editing
- Activity feed and notifications
- Permission management (view/edit)
```

Spec-Kit will create the feature spec on a new branch `001-build-a-xxxx`, filling spec.md with user scenarios, functional requirements, entities, and flagged clarifications‚Äîready for the `/plan` phase once status rules and export limits are defined.

- `SPECIFICATION.md` file with detailed feature requirements
- User stories and acceptance criteria
- API endpoint definitions
- Database schema requirements

**Example Files Created:**
```
specs/001-build-a-xxxx/
‚îú‚îÄ‚îÄ contracts/
‚îÇ   ‚îú‚îÄ‚îÄ accounts.openapi.yaml
‚îÇ   ‚îî‚îÄ‚îÄ audit.openapi.yaml
‚îú‚îÄ‚îÄ data-model.md
‚îú‚îÄ‚îÄ plan.md
‚îú‚îÄ‚îÄ quickstart.md
‚îú‚îÄ‚îÄ research.md
‚îî‚îÄ‚îÄ spec.md
```

- `specs/001-build-a-xxxx/` folder - artifacts for the active feature branch 001-build-a-xxxx:
    - `spec.md` ‚Äì stakeholder-facing feature specification (user scenarios, functional requirements, clarifications).
    - `research.md` ‚Äì answers to clarification questions plus key decisions (partitioning strategy, Azure AD flow, retention rules, throttling behavior).
    - `data-model.md` ‚Äì Cosmos DB schema design, entities, indexes, retention, and projections derived from the plan.
    - `plan.md` ‚Äì full engineering implementation plan: phase breakdown, architecture overview, compliance gates, sequencing.
    - `contracts/accounts.openapi.yaml` & `contracts/audit.openapi.yaml` ‚Äì OpenAPI specs defining the Account management and Audit export APIs that the backend must deliver. "Account" is an entity in this sample application.
    - `quickstart.md` ‚Äì developer playbook for provisioning Azure resources, running the app locally, executing tests, and deploying via GitHub Actions.

---

### Step 4: Clarify Requirements and De-risk

In **GitHub Copilot Chat**, run:

```
/clarify Focus on these areas that need clarification:

TECHNICAL DECISIONS:
- CosmosDB partition key strategy for multi-tenant data
- Real-time updates implementation (WebSockets vs SignalR)
- Offline sync conflict resolution strategy
- Entra ID application registration configuration

SECURITY CONSIDERATIONS:
- Token refresh and rotation strategy
- API rate limiting and DDoS protection
- Data encryption at rest and in transit
- Cross-origin resource sharing (CORS) policies

SCALABILITY PLANNING:
- Expected user load and growth projections
- Database indexing strategy
- Caching layer requirements (Redis)
- CDN configuration for global performance

INTEGRATION DETAILS:
- Microsoft Graph API integration scope
- Azure Application Insights monitoring
- CI/CD pipeline with Azure DevOps
- Environment configuration (dev/staging/prod)
```

**TODO**: needs to find out what this is for
```
To pin down the workflow: which status transition policy should the application enforce for accounts?

Option	Description
A	Linear pipeline: Lead ‚Üí Qualified ‚Üí Proposal ‚Üí Negotiation ‚Üí Closed (Won/Lost) with no skipping
B	Mostly linear but allows skipping stages forward with manager approval
C	Fully flexible: any status to any other, validation occurs via business rules per transition
D	Custom per account segment (different pipelines depending on segment)
```

**Expected Output:**
- `CLARIFICATION.md` file addressing technical uncertainties
- Risk mitigation strategies
- Architecture decision records (ADRs)
- Integration requirements and constraints

---

### Step 5: Create Technical Implementation Plan

In **GitHub Copilot Chat**, run:

```
/plan Create a technical implementation plan using:

FRONTEND ARCHITECTURE:
- React 18 with TypeScript
- Vite for build tooling and development server
- React Query for API state management
- Material-UI (MUI) for component library
- React Router for navigation
- MSAL React for Entra ID authentication

BACKEND ARCHITECTURE:
- Node.js 18+ with Express.js
- TypeScript for type safety
- Azure CosmosDB SDK for database operations
- Passport.js with Azure AD strategy
- Socket.io for real-time features
- Helmet.js for security headers

INFRASTRUCTURE:
- Azure App Service for hosting (Frontend & API)
- Azure CosmosDB (SQL API) for data storage
- Azure Application Insights for monitoring
- Azure Key Vault for secrets management
- Azure CDN for static asset delivery

DEVELOPMENT SETUP:
- Docker containers for local development
- ESLint + Prettier for code formatting
- Jest + React Testing Library for testing
- Husky for git hooks and pre-commit checks
- GitHub Actions for CI/CD pipeline
```

Spec-Kit will document the implementation approach and produce the supporting design artifacts; 

**Expected Output Examples:**
- `PLAN.md` file with detailed technical architecture
- Capture Phase‚ÄØ0 findings in `research.md` 
- Author `data-model.md`
- If Cosmos DB is used, generate REST contracts in contracts/entity.openapi.yaml and contracts/audit.openapi.yaml for entity management, status transitions, search, and audit exports.
- Write `quickstart.md` with environment provisioning (Bicep), local dev steps, testing commands, and deployment validation.
- Technology choices with justifications
- Project structure and folder organization
- Development workflow and tooling setup

---

### Step 6: Generate Implementation Tasks

In **GitHub Copilot Chat**, run:

```
/tasks Break down the implementation into actionable tasks with priority order:

PHASE 1 - PROJECT SETUP:
- Initialize React + TypeScript project with Vite
- Configure ESLint, Prettier, and Husky
- Set up folder structure and basic routing
- Create Azure resources (CosmosDB, App Service, Entra ID)
- Configure environment variables and secrets

PHASE 2 - AUTHENTICATION:
- Implement MSAL configuration for Entra ID
- Create login/logout components and flows
- Set up protected routes and auth context
- Configure token refresh and error handling
- Add user profile and session management

PHASE 3 - BACKEND API:
- Set up Express.js server with TypeScript
- Configure CosmosDB connection and models
- Implement authentication middleware
- Create REST API endpoints for tasks
- Add input validation and error handling

PHASE 4 - CORE FEATURES:
- Implement task CRUD operations
- Create task list UI components
- Add categories, priorities, and due dates
- Implement search and filtering
- Add task completion and progress tracking

PHASE 5 - ADVANCED FEATURES:
- Implement real-time updates with WebSockets
- Add offline capability and sync
- Create sharing and collaboration features
- Implement PWA capabilities
- Add notifications and reminders

PHASE 6 - OPTIMIZATION & DEPLOYMENT:
- Performance optimization and caching
- Security audit and penetration testing
- Monitoring and logging setup
- Production deployment and DNS configuration
- Documentation and user guides
```

Spec-Kit creates task list in `tasks.md` with dependency-ordered tasks spanning setup through optimization, honoring the phase sequences, TDD ordering, entity coverage, and contract/endpoints mapping. Creates requirements coverage: tasks doc. Enforce phase breakdown
 
 *Expected Output:**
- `TASKS.md` file with prioritized task breakdown
- Estimated effort and dependencies for each task
- Definition of done criteria
- Testing requirements for each feature

---

### Step 7: Validate Alignment and Consistency

In **GitHub Copilot Chat**, run:

```
/analyze Perform a comprehensive analysis to ensure consistency across all artifacts:

REQUIREMENTS TRACEABILITY:
- Verify all features from SPECIFICATION are covered in PLAN
- Check that TASKS align with technical architecture
- Ensure CONSTITUTION principles are reflected in implementation

TECHNICAL CONSISTENCY:
- Validate technology choices support all required features
- Check for missing dependencies or integration points
- Verify security requirements are addressed throughout

FEASIBILITY ASSESSMENT:
- Evaluate complexity vs timeline expectations
- Identify potential technical risks or blockers
- Assess team skill requirements and knowledge gaps

COMPLETENESS CHECK:
- Ensure all Azure services are properly configured
- Verify authentication flows are secure and complete
- Check that data models support all use cases
```

**Expected Output:**
- `ANALYSIS.md` file highlighting any inconsistencies
- Risk assessment with mitigation strategies
- Recommendations for architecture improvements
- Gap analysis and missing requirements

---

### Step 8: Execute Implementation

In **GitHub Copilot Chat**, run:

```
/implement Execute the implementation plan starting with Phase 1:

Begin with project setup and infrastructure:
1. Create the React + TypeScript project structure
2. Configure development environment and tooling
3. Set up Azure resources and connection strings
4. Implement basic authentication flow with Entra ID
5. Create foundational components and routing

Focus on creating a working MVP first, then iterate through the phases systematically. Ensure each component is properly tested before moving to the next phase.
```

**Expected Output:**
- Generated project files and folder structure
- Configuration files for all development tools
- Basic React components and routing setup
- Azure resource configuration scripts
- Initial test files and CI/CD pipeline

---

## üîÑ Iterative Development Process

After the initial implementation:

### Continue with Iterative Specification

```
/specify Add advanced features for the next iteration:
- Task templates and recurring tasks
- Time tracking and productivity analytics
- Integration with Microsoft Teams and Outlook
- Mobile app companion (React Native)
- AI-powered task prioritization and suggestions
```

### Plan Additional Features

```
/plan Extend the architecture to support:
- Machine learning integration for task recommendations
- Multi-language support and localization
- Advanced reporting and dashboard features
- Third-party integrations (Slack, Trello, etc.)
- Enterprise features (admin panel, user management)
```

### Generate New Tasks

```
/tasks Create implementation tasks for the new features prioritized by user value and technical complexity
```

---

## üìä Expected Project Structure

After running through all steps, your project will have:

```
todo-app/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îú‚îÄ‚îÄ prompts/           # Spec-Kit slash command templates
‚îÇ   ‚îî‚îÄ‚îÄ workflows/         # CI/CD pipeline configuration
‚îú‚îÄ‚îÄ .specify/              # Spec-Kit configuration
‚îú‚îÄ‚îÄ docs/                  # Generated documentation
‚îÇ   ‚îú‚îÄ‚îÄ CONSTITUTION.md    # Project principles and standards
‚îÇ   ‚îú‚îÄ‚îÄ SPECIFICATION.md   # Feature requirements and user stories
‚îÇ   ‚îú‚îÄ‚îÄ CLARIFICATION.md   # Risk mitigation and decisions
‚îÇ   ‚îú‚îÄ‚îÄ PLAN.md           # Technical architecture and design
‚îÇ   ‚îú‚îÄ‚îÄ TASKS.md          # Implementation breakdown
‚îÇ   ‚îî‚îÄ‚îÄ ANALYSIS.md       # Consistency validation report
‚îú‚îÄ‚îÄ src/                   # Application source code
‚îú‚îÄ‚îÄ tests/                 # Test files and test data
‚îú‚îÄ‚îÄ azure/                 # Infrastructure as Code (ARM/Bicep)
‚îî‚îÄ‚îÄ package.json          # Dependencies and scripts
```

---

## üéØ Key Benefits of This Approach

1. **Clear Requirements** - Every feature is specified before implementation
2. **Risk Mitigation** - Potential issues identified and addressed early
3. **Consistent Architecture** - All components follow established patterns
4. **Comprehensive Testing** - Test requirements defined alongside features
5. **Documentation First** - Living documentation that evolves with code
6. **Iterative Improvement** - Easy to extend and modify requirements

---

## üîç Troubleshooting Common Issues

### Slash Commands Not Working

```bash
# Ensure you're in a Spec-Kit project directory
cd /workspaces/SpecKitDevContainerBase/code/todo-app

# Verify Spec-Kit files exist
ls .github/prompts/

# Check Copilot Chat is enabled in VS Code
```

### Azure Integration Issues

```bash
# Verify Azure CLI is configured
az login
az account show

# Check resource group and subscription
az group list
```

### Development Environment Problems

```bash
# Reset the development environment
specify check
source ~/.bashrc

# Verify Node.js and npm
node --version
npm --version
```

---

## üìö Next Steps

1. **Follow this guide step-by-step** to build your first Spec-Kit application
2. **Experiment with different specifications** to see how the plan adapts
3. **Try other AI agents** (Claude, Cursor) for different perspectives
4. **Extend the example** with additional features like mobile apps or microservices
5. **Share your results** and contribute back to the Spec-Kit community

---

## ü§ù Getting Help

- **Spec-Kit Documentation**: https://github.com/github/spec-kit
- **Azure CosmosDB Docs**: https://docs.microsoft.com/en-us/azure/cosmos-db/
- **Microsoft Entra ID**: https://docs.microsoft.com/en-us/azure/active-directory/
- **React + TypeScript**: https://react-typescript-cheatsheet.netlify.app/

Happy building with Spec-Kit! üöÄ